CPP=@GAPCXX@
GAPARCH=@GAPARCH@

all: default

default: bin/$(GAPARCH)/helloworld

bin/$(GAPARCH)/helloworld: src/helloworld.cpp
	mkdir -p bin/$(GAPARCH)
	$(CPP) -o bin/$(GAPARCH)/helloworld src/helloworld.cpp $(CPPFLAGS) $(LDFLAGS)

clean:
	rm -rf bin

distclean: clean
	rm -rf Makefile

doc:
	gap -A -q -T < makedoc.g

test:
	gap -q tst/testall.g

.PHONY: all default clean distclean doc test
